---
mode: "agent"
description: "リバースエンジニアリングレポートを作成します"
---

ソフトウェアの外部仕様・内部実装・使用方法などを明確にするために、リポジトリの構造や機能を調査してリバースエンジニアリングレポートを作成します。
出力されるレポートは、プロジェクトの理解を深め、将来の開発やメンテナンスに役立てることを目的としています。
平易に理解できるように、専門用語は避け、必要に応じて説明を加えます。理解の前提となる技術要素があれば、参考文献なども併せて記載します。

## コンテキストの確認

以下の情報を確認し、レポートの目的や対象読者を明確にします。
情報が不足していれば、利用者に質問して補足情報を収集してください。
コンテキストが明確になるまで調査は開始しないでください。

- 誰がこのレポートを読むのか（開発者、プロジェクトマネージャー、QA エンジニアなど）
- レポートの目的（プロジェクトの理解、ドキュメント作成、将来の開発のための基礎資料など）
- レポートの使用方法（新規開発者のオンボーディング、プロジェクトのメンテナンス、機能追加のための基礎資料など）
- リバースエンジニアリング対象製品/システムのスコープ（ソフトウェア、ハードウェア、システム全体など）

## 調査手順

### 全体概要把握

- リポジトリルートにある `README` や `docs` ディレクトリなどのドキュメントを確認し、プロジェクトの概要や目的を把握します。
- 仕様書、データシート、論文などの関連資料があれば、それらも確認します。
- リポジトリのディレクトリ構造を確認し、主要なディレクトリやファイルの役割を理解します。
- ソースコードのパッケージやモジュールの構成を確認し、どのように機能が分割されているかを把握します。
- リポジトリのドキュメントや Wiki を確認し、追加の情報やガイドラインを収集します。

### 詳細調査

- リポジトリの依存関係を確認し、使用されているライブラリやフレームワークを把握します。
- リポジトリのビルドやデプロイの手順を確認し、プロジェクトのセットアップ方法を理解します。
- リポジトリのテストフレームワークやテストケースの構成を確認し、どのようにテストが行われているかを把握します。
- リポジトリのコミット履歴を確認し、主要な変更点やリリースノートを把握します。
- リポジトリのイシューやプルリクエストを確認し、現在の開発状況や課題を把握します。

### 出力フォーマット

以下のフォーマットに従って、リバースエンジニアリング結果をまとめたレポートを作成します。
出力するファイル名は `YYYYMMDD_reverse_engineering_report.md` とします。

```markdown
# 1. 概要 (Executive Summary)

<!-- レポート全体の要約。
リバースエンジニアリングの目的、主要な発見、および結論を簡潔に記述します。
技術的な詳細を理解しない上層部や非技術者向けのセクションです。 -->

# 2. はじめに (Introduction)

## 2.1 目的 (Purpose):

<!-- なぜこのリバースエンジニアリングが行われたのかを明確に述べます（例：セキュリティ脆弱性の特定、競合製品の分析、失われた設計情報の回復など）。 -->

## 2.2 調査対象 (Subject of Analysis):

<!-- リバースエンジニアリングの対象となった具体的なハードウェア、ソフトウェア、またはシステムを特定します。モデル番号、バージョン、製造元などの詳細を含めます。 -->

## 2.3 スコープ (Scope):

<!-- リバースエンジニアリングの範囲と限界を明確にします。何が対象で、何が対象外なのかを記述します。 -->

## 2.4 方法論の概要 (Overview of Methodology):

<!-- 使用された主要なツールや手法の概要を簡単に説明します（詳細な説明は後述のセクションで）。 -->

# 3. 調査対象の概要 (Subject Overview)

## 3.1 物理的特徴 (Physical Characteristics):

<!-- ハードウェアの場合、外観、サイズ、重量、コネクタ、主要なコンポーネントの配置などを写真付きで記述します。 -->

## 3.2 論理的特徴 (Logical Characteristics):

<!-- ソフトウェアの場合、機能、アーキテクチャの概要、主要なモジュールやコンポーネントの関係などを記述します。 -->

## 3.3 予備情報 (Prior Knowledge/Assumptions):

<!-- リバースエンジニアリングを開始する前に得られていた情報や、立てられていた仮説を記述します。 -->

# 4. リバースエンジニアリングの手法 (Reverse Engineering Methodology)

## 4.1 使用ツール (Tools Used):

<!-- 分解ツール、オシロスコープ、ロジックアナライザ、デコンパイラ、デバッガ、ファームウェア抽出ツール、バイナリエディタなど、使用した具体的なツールとそのバージョンをリストアップします。 -->

## 4.2 手順 (Procedures):

<!-- リバースエンジニアリングの各ステップを詳細に記述します。例えば、
ハードウェア：分解、回路図作成、コンポーネント識別、信号測定など。
ソフトウェア：ファームウェア抽出、静的解析、動的解析、デバッギング、プロトコル解析など。 -->

## 4.3 課題と解決策 (Challenges and Solutions):

<!-- リバースエンジニアリング中に直面した困難な点と、それらをどのように克服したかを記述します。 -->

# 5. 分析結果 (Analysis Results)

## 5.1 ハードウェア分析 (Hardware Analysis):

<!-- 主要な IC（マイクロコントローラ、メモリ、ASIC など）の特定と機能。
回路図の断片または全体（可能な場合）。
PCB レイアウトの分析。
電源回路、クロック回路などの重要部分の詳細。
各コンポーネント間の接続性。 -->

## 5.2 ソフトウェア/ファームウェア分析 (Software/Firmware Analysis):

<!-- 主要な機能モジュールとその役割。
データ構造、アルゴリズムの詳細。
通信プロトコルの解析と定義。
暗号化メカニズム（存在する場合）。
脆弱性（既知または新規）の特定。
フローチャート、擬似コード、重要なコードスニペットなど。
ライブラリの構成や通信校正など図解が必要なものは全て Mermaid 記法を使用してください。 -->

## 5.3 システムレベル分析 (System-Level Analysis):

<!-- ハードウェアとソフトウェアがどのように連携して機能するか。
システムの全体的なアーキテクチャ。
データの流れや制御フロー。 -->

# 6. 主要な発見 (Key Findings)

<!-- リバースエンジニアリングによって明らかになった最も重要で特筆すべき点。
目的達成に直接関連する発見を強調します。
例えば、未公開の機能、セキュリティホール、特許侵害の可能性のある設計、競合製品との差異など。 -->

# 7. 結論 (Conclusion)

<!-- リバースエンジニアリングの目的が達成されたかどうかを明確に述べます。
主要な発見とそれが持つ意味を簡潔にまとめます。
今後の行動や推奨事項（もしあれば）を提示します。 -->

# 8. 推奨事項 (Recommendations) (オプション)

<!-- 発見に基づいて推奨される具体的な行動（例：セキュリティパッチの適用、製品設計の変更、法的措置の検討など）。 -->

# 9. 付録 (Appendices)

<!-- レポート本文で参照される追加情報。
詳細な回路図、デバッグログ、抽出されたファームウェアコード、データのスクリーンショット、写真など。
参考文献（References）。 -->

<!-- レポート作成のヒント:
対象読者を意識する: 技術者向けか、非技術者向けかによって詳細のレベルを調整します。
明確さと簡潔さ: 専門用語は避け、分かりやすい言葉で記述します。技術的な用語を使用する場合は、適切に定義または説明します。
視覚資料の活用: 図、写真、グラフ、フローチャートなどを積極的に使用し、理解を助けます。Mermaid 記法を使用してください。
客観性: 推測や憶測ではなく、事実に基づいた分析結果を記述します。
整合性: レポート全体で用語や表記方法に一貫性を持たせます。 -->
```
